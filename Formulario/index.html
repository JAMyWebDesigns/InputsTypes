<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Formulario — Input Types</title>
    <style>
        :root{font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;line-height:1.4;color:#111}
        body{max-width:900px;margin:32px auto;padding:16px}
        h1{margin:0 0 12px;font-size:1.4rem}
        form{display:grid;gap:12px;background:#fff;padding:16px;border:1px solid #e6e6e6;border-radius:8px}
        fieldset{border:1px solid #eaeaea;padding:12px;border-radius:6px}
        legend{font-weight:600}
        .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
        label{display:block;font-size:.9rem;margin-bottom:6px}
        input,select,textarea,button{width:100%;padding:8px;border:1px solid #cfcfcf;border-radius:6px;font-size:1rem}
        .controls{display:flex;gap:8px}
        .small{font-size:.9rem;color:#555}
        pre{background:#f6f6f6;padding:12px;border-radius:6px;overflow:auto}
    </style>
</head>
<body>
    <h1>Formulario — Ejemplos de tipos de input</h1>

    <form id="demoForm" novalidate>
        <fieldset>
            <legend>Información personal</legend>
            <div class="row">
                <div>
                    <label for="fullname">Nombre completo</label>
                    <input id="fullname" name="fullname" type="text" placeholder="Ej: Ana Pérez" required />
                </div>
                <div>
                    <label for="email">Correo electrónico</label>
                    <input id="email" name="email" type="email" placeholder="ejemplo@dominio.com" required />
                </div>
            </div>

            <div class="row">
                <div>
                    <label for="phone">Teléfono</label>
                    <input id="phone" name="phone" type="tel" placeholder="+34 600 123 456" pattern="^\+?[0-9\s\-()]{6,}$" />
                </div>
                <div>
                    <label for="website">Sitio web</label>
                    <input id="website" name="website" type="url" placeholder="https://..." />
                </div>
            </div>

            <label for="bio">Biografía (textarea)</label>
            <textarea id="bio" name="bio" rows="3" placeholder="Breve descripción"></textarea>
        </fieldset>

        <fieldset>
            <legend>Preferencias y opciones</legend>

            <div class="row">
                <div>
                    <label for="age">Edad</label>
                    <input id="age" name="age" type="number" min="0" max="120" />
                </div>
                <div>
                    <label for="rating">Satisfacción (0-10)</label>
                    <input id="rating" name="rating" type="range" min="0" max="10" step="1" value="5" />
                </div>
            </div>

            <label for="favcolor">Color favorito</label>
            <input id="favcolor" name="favcolor" type="color" value="#3b82f6" />

            <label for="birth">Fecha de nacimiento</label>
            <input id="birth" name="birth" type="date" />

            <div class="row">
                <div>
                    <label>Género</label>
                    <div class="controls">
                        <label><input type="radio" name="gender" value="female" /> Femenino</label>
                        <label><input type="radio" name="gender" value="male" /> Masculino</label>
                        <label><input type="radio" name="gender" value="other" /> Otro</label>
                    </div>
                </div>

                <div>
                    <label>Aficiones</label>
                    <div class="controls">
                        <label><input type="checkbox" name="hobby" value="music" /> Música</label>
                        <label><input type="checkbox" name="hobby" value="sports" /> Deportes</label>
                        <label><input type="checkbox" name="hobby" value="reading" /> Lectura</label>
                    </div>
                </div>
            </div>

            <label for="country">País</label>
            <select id="country" name="country">
                <option value="">-- Selecciona --</option>
                <option value="es">España</option>
                <option value="mx">México</option>
                <option value="us">Estados Unidos</option>
                <option value="other">Otro</option>
            </select>
        </fieldset>

        <fieldset>
            <legend>Archivos y datos técnicos</legend>

            <label for="avatar">Subir avatar (imagen)</label>
            <input id="avatar" name="avatar" type="file" accept="image/*" />

            <label for="hiddenToken">Token oculto (hidden)</label>
            <input id="hiddenToken" name="token" type="hidden" value="abc123" />

            <div class="row">
                <div>
                    <label for="datetime">Fecha y hora local</label>
                    <input id="datetime" name="datetime" type="datetime-local" />
                </div>
                <div>
                    <label for="week">Semana</label>
                    <input id="week" name="week" type="week" />
                </div>
            </div>
        </fieldset>

        <div class="controls">
            <button type="submit">Enviar</button>
            <button type="reset">Restablecer</button>
        </div>

        <p class="small">La demo evita el envío real y muestra los datos en la vista previa.</p>

    </form>

    <h2>Vista previa (JSON)</h2>
    <pre id="output">{}</pre>

    <script>
        const form = document.getElementById('demoForm');
        const output = document.getElementById('output');

        function collectFormData(form) {
            const fd = new FormData(form);
            const obj = {};
            for (const [key, value] of fd.entries()) {
                // Handle multiple checkboxes with same name
                if (obj[key]) {
                    if (Array.isArray(obj[key])) obj[key].push(value);
                    else obj[key] = [obj[key], value];
                } else {
                    obj[key] = value;
                }
            }
            // Collect checked checkboxes that may not be in FormData if unchecked (ignored)
            const checkboxes = form.querySelectorAll('input[type="checkbox"][name]');
            checkboxes.forEach(cb => {
                if (!fd.has(cb.name)) {
                    // nothing to do if unchecked and not previously set
                }
            });
            return obj;
        }

        form.addEventListener('submit', (e) => {
            e.preventDefault();
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }
            const data = collectFormData(form);
            // For file inputs, show basic info instead of raw file
            const fileInput = form.querySelector('input[type="file"]');
            if (fileInput && fileInput.files.length) {
                data[fileInput.name] = Array.from(fileInput.files).map(f => ({ name: f.name, size: f.size, type: f.type }));
            }
            output.textContent = JSON.stringify(data, null, 2);
        });

        // Show initial state
        output.textContent = JSON.stringify(collectFormData(form), null, 2);
    </script>
</body>
</html>